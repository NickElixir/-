<!DOCTYPE html>
<head>
    <meta charset=utf-8>
</head>
<body>
    <form>
        <fieldset name=createProduct>
            <legend><h1>Добавить новый продукт в коллекцию</h1></legend>
            <h2>Имя продукта (род + вид)</h2>
            <p><input name=name1></p>
            <p><input name=submit1 type=submit></p>
        </fieldset>
	</form>
	<form>
        <fieldset name=addProduct>
            <legend><h1>Добавить продукт</h1></legend>
            <select name=collectionProducts>
			</select>
			<p><input name=shelflife></p>
			<p><input name=count></p>
			<p><input name=submit2 type=submit></p>
        </fieldset>
    </form>
    <script>
		var arrProducts = [];
        var arrProductsCollection = [];
        function createProduct(event) {
            event.preventDefault();
            var value = document.forms[0].elements.name1.value;
            arrProductsCollection.push(document.forms[0].elements.name1.value);
            console.log(arrProductsCollection);
			var option = new Option(value, value);
			document.forms[1].elements.collectionProducts.appendChild(option);
        }
        document.forms[0].addEventListener("submit", createProduct);
		function addProduct(event) {
			event.preventDefault();
			var name = document.forms[1].elements.collectionProducts.value;
			var shelflife = document.forms[1].elements.shelflife.value;
			var count = document.forms[1].elements.count.value;

              let object = new Object();
              object.name = name;
              object.shelflife = shelflife;
              if (count) {
                object.count = count;
              } else {
                object.count = 1;
              }
              object.datePurchase = new Date();
              object.index = arrProducts.length;
              arrProducts.push(object);
			  console.log(arrProducts);
		}
		document.forms[1].addEventListener("submit", addProduct);
    </script>
</body>